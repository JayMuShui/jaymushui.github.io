import{A as z,T as $,b as D,d as I,x as O,u as W,g as H,a as Z,c as G,j as J,h as K,e as Q,f as U}from"./app.B7PMaYgc.js";import{_ as X}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.CYNSc5B-.js";import{_ as tt}from"./YunLayoutPostTag.Bki3QIRE.js";import{_ as et}from"./YunPageHeader.CNMp6PSZ.js";import{p as nt,k as h,c as ot,M as at,P as L,O as r,C as t,a3 as n,N as C,a6 as st,R as rt,S as P,a2 as ct,V as it,u as o,F as k,$ as lt,Z as ut}from"./framework.DlV0k-5J.js";import{a as mt,u as pt}from"./chunks/vue-router.geVcZ14w.js";import{u as _t}from"./useInvisibleElement.bCVCtLe0.js";import"./chunks/dayjs.Byk5cVHE.js";import{u as ft}from"./chunks/vue-i18n.D6tEDyfS.js";import"./chunks/@vueuse/motion.DIsYeaHF.js";import"./chunks/pinia.BdjdCKlI.js";import"./chunks/nprogress.CMY0kOW-.js";function gt(T={primary:"#0078E7"}){const c=z(),u=new $("#999999"),m=new $(T.primary);return{tags:c,getTagStyle:a=>{const i=Array.from(c.value).map(([g,y])=>y.count),_=Math.max(...i),e=Math.min(...i),f=_-e,l=(a-e)/f;return{"--yun-tag-color":u.mix(m,l*100).toString(),fontSize:`${l*36+12}px`}}}}const yt={class:"yun-text-light",text:"center",p:"2"},dt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Vt=nt({__name:"tags",setup(T){D([I({"@type":"CollectionPage"})]);const c=mt(),u=pt(),m=O(),{t:p}=ft(),a=W(),{tags:i,getTagStyle:_}=gt({primary:m.value.colors.primary}),e=h(()=>c.query.tag||""),f=H(),l=h(()=>f.postList.filter(s=>s.tags?typeof s.tags=="string"?s.tags===e.value:s.tags.includes(e.value):!1)),g=ot(),{show:y}=_t(g);function R(d){u.push({query:{tag:d}}),y()}const V=Z(a),x=h(()=>Array.from(i.value).sort());return(d,s)=>{const b=G,S=et,A=tt,w=at("RouterView"),B=X,F=J,N=K,E=Q,M=U;return r(),L(k,null,[t(E,null,{default:n(()=>[t(b),t(w,null,{default:n(({Component:j})=>[(r(),C(st(j),null,{"main-header":n(()=>[t(S,{title:o(V)||o(p)("menu.tags"),icon:o(a).icon||"i-ri-tag-line",color:o(a).color,"page-title-class":o(a).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":n(()=>[t(ct,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:n(()=>[P("div",yt,it(o(p)("counter.tags",x.value.length)),1)]),_:1}),P("div",dt,[(r(!0),L(k,null,lt(x.value,([v,Y],q)=>(r(),C(A,{key:v,i:q,title:v,count:Y.count,style:ut(o(_)(Y.count)),onClick:vt=>R(v.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(w)]),"main-nav-before":n(()=>[e.value?(r(),C(F,{key:0,ref_key:"collapse",ref:g,m:"t-4",w:"full"},{default:n(()=>[t(S,{title:e.value,icon:"i-ri-hashtag"},null,8,["title"]),t(B,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:l.value},null,8,["posts"])]),_:1},512)):rt("v-if",!0)]),_:2},1024))]),_:1}),t(N)]),_:1}),t(M)],64)}}});export{Vt as default};
