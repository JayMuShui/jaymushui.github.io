import{m as D}from"./chunks/@vueuse/motion.DIsYeaHF.js";import{B as C,C as g}from"./app.B7PMaYgc.js";import"./chunks/dayjs.Byk5cVHE.js";import{p as w,c as p,k as b,M as R,P as n,O as o,X as y,S as i,R as V,V as d,u as _,C as Y,a3 as B,W as I,w as L,a2 as M,F as k,$ as x,N as P}from"./framework.DlV0k-5J.js";import{u as N}from"./chunks/vue-i18n.D6tEDyfS.js";const T={class:"post-meta"},z={key:0,class:"post-time",font:"mono",opacity:"80"},E={class:"post-title w-full","inline-flex":"","items-center":"",font:"serif black"},F=w({__name:"YunPostCollapseItem",props:{i:{},post:{}},setup(m){const u=m,{locale:v}=N(),r=p(!1),a=p();D(a,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:200,delay:u.i*50,onComplete(){r.value=!0}}}});const l=b(()=>{const e=u.post.title;return typeof e=="object"&&e!==null?e[v.value]||e["zh-CN"]||Object.values(e)[0]:e});return(e,s)=>{const t=R("RouterLink");return o(),n("article",{ref_key:"itemRef",ref:a,class:y(["post-item relative",{show:r.value}])},[i("header",{class:y(["post-header cursor-pointer w-full",{show:r.value}]),flex:"~","items-center":"",relative:"",hover:"bg-black/1"},[i("div",T,[e.post.date?(o(),n("time",z,d(_(C)(e.post.date,{template:"MM-DD"})),1)):V("v-if",!0)]),i("h2",E,[Y(t,{to:e.post.path||"",class:"post-title-link"},{default:B(()=>[I(d(l.value),1)]),_:1},8,["to"])])],2)],2)}}}),O={class:"post-collapse px-10 lt-sm:px-5 max-w-3xl",relative:""},S={w:"full",text:"center",class:"yun-text-light",p:"2"},j={class:"post-collapse-action",text:"center"},W={key:0,"i-ri-sort-desc":""},X={key:1,"i-ri-sort-asc":""},q={class:"collection-title","m-0":"",relative:""},A=["id"],U=w({__name:"YunPostCollapse",props:{posts:{}},setup(m){const u=m,{t:v}=N(),r=p([]),a=p({});L(()=>u.posts,()=>{a.value={},r.value=[],u.posts.forEach(s=>{if(!(s.hide&&s.hide!=="index")&&s.date){const t=Number.parseInt(C(s.date,{template:"YYYY"}));a.value[t]?a.value[t].push(s):(r.value.push(t),a.value[t]=[s])}})},{immediate:!0});const l=p(!0),e=b(()=>{const t=r.value.sort((h,c)=>c-h);return l.value?t:[...t].reverse()});return(s,t)=>{const h=F;return o(),n("div",O,[Y(M,{appear:"","enter-active-class":"animate-fade-in animate-duration-400"},{default:B(()=>[i("div",S,d(_(v)("counter.archives",s.posts.length)),1)]),_:1}),i("div",j,[i("button",{class:"yun-icon-btn shadow hover:shadow-md",onClick:t[0]||(t[0]=c=>l.value=!l.value)},[l.value?(o(),n("div",W)):(o(),n("div",X))])]),(o(!0),n(k,null,x(e.value,c=>(o(),n("div",{key:c,m:"b-6"},[i("div",q,[i("h2",{id:`#archive-year-${c}`,class:"archive-year",text:"4xl",p:"y-2"},d(c),9,A)]),(o(!0),n(k,null,x(_(g)(a.value[c],l.value),($,f)=>(o(),P(h,{key:f,post:$,i:f},null,8,["post","i"]))),128))]))),128))])}}});export{U as _};
