import{n as R,j as B,_ as V,g as E,k as F}from"./app.B7PMaYgc.js";import"./chunks/dayjs.Byk5cVHE.js";import{a as H}from"./chunks/vue-router.geVcZ14w.js";import{k as n,p as S,P as i,N as x,R as y,u as a,a3 as b,F as C,$ as Y,M as I,X as P,O as t,S as p,W as O,V as T,L as W,Z as L,C as $,c as A}from"./framework.DlV0k-5J.js";import{b as D,_ as G,a as X}from"./YunPostMeta.vue_vue_type_style_index_0_lang.BhpqVBL7.js";import{u as Z}from"./chunks/vue-i18n.D6tEDyfS.js";function q(_){const f=H(),s=n(()=>Number.parseInt(f.params.page||"1")),r=n(()=>Math.ceil(_.total/_.pageSize)),m=n(()=>s.value===1||s.value===r.value?3:2);function k(c){return c===1||c===r.value?!0:c>s.value-m.value&&c<s.value+m.value}function v(c){return c===1?"/":`/page/${c}`}const g=n(()=>v(s.value-1)),o=n(()=>v(s.value+1)),d=n(()=>s.value>1),w=n(()=>s.value<r.value);return{curPage:s,totalPages:r,showPage:k,surLen:m,getTo:v,prevTo:g,nextTo:o,showPrev:d,showNext:w}}const J={class:"pagination"},K=S({__name:"YunPagination",props:{total:{},pageSize:{}},setup(_,{expose:f}){const s=_,{curPage:r,totalPages:m,showPage:k,getTo:v,surLen:g,prevTo:o,nextTo:d,showPrev:w,showNext:c}=q({total:s.total,pageSize:s.pageSize});return f({curPage:r}),(e,u)=>{const h=I("RouterLink");return t(),i("nav",J,[a(w)?(t(),x(h,{key:0,class:"page-number",to:a(o),"aria-label":"prev"},{default:b(()=>u[0]||(u[0]=[p("div",{"i-ri-arrow-left-s-line":""},null,-1)])),_:1,__:[0]},8,["to"])):y("v-if",!0),(t(!0),i(C,null,Y(a(m),l=>(t(),i(C,null,[a(k)(l)?(t(),x(h,{key:l,class:P(["page-number",a(r)===l&&"active"]),to:a(v)(l)},{default:b(()=>[O(T(l),1)]),_:2},1032,["class","to"])):l===a(r)-a(g)?(t(),i("span",{key:`prev-space-${l}`,class:"space",disabled:""}," ... ")):l===a(r)+a(g)?(t(),i("span",{key:`next-space-${l}`,class:"space",disabled:""}," ... ")):y("v-if",!0)],64))),256)),a(c)?(t(),x(h,{key:1,class:"page-number",to:a(d),"aria-label":"next"},{default:b(()=>u[1]||(u[1]=[p("div",{"i-ri-arrow-right-s-line":""},null,-1)])),_:1,__:[1]},8,["to"])):y("v-if",!0)])}}}),Q={},U={w:"full",h:"10",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function ee(_,f){return t(),i("div",U)}const te=W(Q,[["render",ee]]),se={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},oe=["src","alt"],ne={class:"flex-center title text-2xl",text:"center",font:"serif black"},ae={"inline-flex":"",class:"leading-none"},re={flex:"~ grow col",w:"full",justify:"center",items:"center"},le={key:0,py:"1"},ie=["innerHTML"],ce={key:2,m:"b-5"},ue=["href"],pe={w:"full",class:"yun-card-actions flex justify-between","min-h":"10",text:"sm"},fe={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},ve=S({__name:"YunPostCard",props:{post:{}},setup(_){const f=_,{t:s,locale:r}=Z(),m=R(),k=e=>{if(!e)return{color:"",styles:void 0};const u=m.value.types||{};e in u||(e="link");const l=(u[e]||u.link).color,z=n(()=>e?{"--card-c-primary":l}:void 0);return{color:l,styles:z}},{styles:v,color:g}=k(f.post.type),o=n(()=>f.post.color||g),d=n(()=>o.value?["primary","success","warning","error","info","red","blue","purple","green","yellow","orange","pink"].includes(o.value)?`text-${o.value}`:"":f.post.postTitleClass||"bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),w=n(()=>o.value?o.value.startsWith("#")?{color:o.value}:["primary","success","warning","error","info"].includes(o.value)?{color:`var(--va-c-${o.value})`}:{color:{red:"#ff4d4f",blue:"#1890ff",purple:"#722ed1",green:"#52c41a",yellow:"#faad14",orange:"#fa8c16",pink:"#eb2f96"}[o.value]||o.value}:{}),c=n(()=>{const e=f.post.title;return typeof e=="object"&&e!==null?e[r.value]||e["zh-CN"]||Object.values(e)[0]:e});return(e,u)=>{const h=V,l=D,z=te,N=G,j=X,M=B;return t(),x(M,{class:P(["w-full",e.post.cover?"post-card-image":"post-card"]),m:"auto",overflow:"hidden",style:L(a(v))},{default:b(()=>[p("div",se,[e.post.cover?(t(),i("img",{key:0,src:e.post.cover,alt:a(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,oe)):y("v-if",!0),p("div",{class:P(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[$(h,{class:P(["post-title-link cursor-pointer",d.value]),to:e.post.path||"",m:"t-3",style:L(w.value)},{default:b(()=>[p("div",ne,[p("span",ae,T(c.value),1)])]),_:1},8,["to","class","style"]),$(l,{frontmatter:e.post},null,8,["frontmatter"]),p("div",re,[e.post.excerpt_type==="text"?(t(),i("div",le)):y("v-if",!0),e.post.excerpt?(t(),i("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-6 lt-sm:4 y-2",innerHTML:e.post.excerpt},null,8,ie)):(t(),i("div",ce))]),e.post.excerpt?(t(),x(z,{key:0})):y("v-if",!0),e.post.url?(t(),i("a",{key:1,href:e.post.url,class:"post-link-btn inline-flex items-center gap-2 bg-$va-c-primary text-white rounded-full px-4 py-2 text-sm transition-all duration-300 hover:bg-$va-c-primary-lighter hover:shadow-lg relative z-10",target:"_blank",m:"b-4"},[u[0]||(u[0]=p("div",{"i-ri-external-link-line":""},null,-1)),p("span",null,T(a(s)("post.read_more")),1)],8,ue)):y("v-if",!0)],2)]),p("div",pe,[p("div",fe,[$(N,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(t(),x(j,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):y("v-if",!0)])]),_:1},8,["class","style"])}}}),de={flex:"~ col",class:"yun-post-list gap-4",w:"full",p:"x-4 lt-sm:0"},_e={key:0,py2:"",op50:"","text-center":""},we=S({__name:"YunPostList",props:{type:{},posts:{}},setup(_){const f=_,s=A(),r=n(()=>{var d;return((d=s.value)==null?void 0:d.curPage)||1}),m=E(),k=F(),v=n(()=>k.value.pageSize),g=n(()=>(f.posts||m.postList).filter(d=>!d.hide)),o=n(()=>g.value.slice((r.value-1)*v.value,r.value*v.value));return(d,w)=>{const c=ve,e=K;return t(),i(C,null,[p("div",de,[o.value.length?y("v-if",!0):(t(),i("div",_e," 博主还什么都没写哦～ ")),(t(!0),i(C,null,Y(o.value,(u,h)=>(t(),x(c,{key:h,post:u},null,8,["post"]))),128))]),$(e,{ref_key:"paginationRef",ref:s,class:"mt-5",total:g.value.length,"page-size":v.value},null,8,["total","page-size"])],64)}}});export{we as _};
