import{u as b,a as B}from"./chunks/vue-router.geVcZ14w.js";import{p as $}from"./app.B7PMaYgc.js";import{p as C,P as a,O as o,S as n,V as f,u as v,c as d,o as Y,F as g,C as _,a2 as E,a3 as K,R as N,$ as x,k as S}from"./framework.DlV0k-5J.js";import{u as V}from"./useInvisibleElement.bCVCtLe0.js";import"./chunks/dayjs.Byk5cVHE.js";import{m as j}from"./chunks/@vueuse/motion.DIsYeaHF.js";import{u as q}from"./chunks/vue-i18n.D6tEDyfS.js";const F={class:"post-title inline-flex items-center gap-2 w-full"},T=C({__name:"YunCategoryChildItem",props:{i:{},categoryItem:{},parentKey:{}},setup(u){const r=b();function l(e){e.path&&r.push(e.path)}return(e,i)=>(o(),a("div",{class:"post-item inline-flex items-center cursor-pointer w-full gap-2 px-3 py-2 rounded",hover:"bg-black/5",onClick:i[0]||(i[0]=c=>l(e.categoryItem))},[n("span",F,[n("span",null,f(v($)(e.categoryItem.title)),1)])]))}}),U={key:0,"i-ri-folder-add-line":""},z={key:1,class:"text-$va-c-primary dark:text-$va-c-primary-lighter","i-ri-folder-reduce-line":""},A={class:"rounded-full px-1.5 bg-black/5 shadow-sm op-60",text:"xs"},D={key:0},L=C({__name:"YunCategory",props:{i:{},parentKey:{},category:{},level:{},collapsable:{type:Boolean,default:!0}},setup(u){const r=u,l=b(),e=d(r.collapsable),{t:i}=q(),c=d(),{show:s}=V(c),m=t=>typeof t=="object"&&t!==null?JSON.stringify(t):t,I=t=>encodeURIComponent(m(t));function w(t){e.value=!1,l.push({query:{category:I(t)}}),s()}Y(()=>{const t=document.querySelector(".post-collapse-container");t&&(c.value=t)});const h=d();return r.level===1&&j(h,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{delay:(r.i||0)*50,type:"spring",ease:[.25,.1,.25,1],damping:8,duration:200}}}),(t,p)=>{const R=T;return o(),a(g,null,[n("li",{ref_key:"categoryRef",ref:h,class:"category-list-item inline-flex items-center cursor-pointer w-full gap-2 px-3 py-2 rounded",hover:"bg-black/5"},[n("span",{class:"folder-action inline-flex",hover:"text-$va-c-primary-lighter",onClick:p[0]||(p[0]=y=>e.value=!e.value)},[e.value?(o(),a("div",U)):(o(),a("div",z))]),n("span",{class:"category-name inline-flex items-center gap-2 w-full",onClick:p[1]||(p[1]=y=>w(t.parentKey))},[n("span",null,f(t.category.name==="Uncategorized"?v(i)("category.uncategorized"):v($)(t.category.name)),1),n("span",A,f(t.category.total),1)])],512),_(E,{"enter-active-class":"v-enter-active","enter-from-class":"v-enter-from","leave-active-class":"v-leave-active","leave-to-class":"v-leave-to",duration:{enter:200,leave:0}},{default:K(()=>[e.value?N("v-if",!0):(o(),a("ul",D,[(o(!0),a(g,null,x(t.category.children.values(),(y,k)=>(o(),a("li",{key:k,class:"post-list-item text-$va-c-text",m:"l-4",hover:"text-$va-c-primary-lighter"},[_(R,{i:k,"category-item":y,"parent-key":t.parentKey},null,8,["i","category-item","parent-key"])]))),128))]))]),_:1})],64)}}}),M={flex:"~ col"},X=C({__name:"YunCategories",props:{categories:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(u){const r=B(),l=S(()=>{const e=r.query.category||"";return Array.isArray(e)?[e]:e.split("/")});return(e,i)=>{const c=L;return o(),a("div",M,[(o(!0),a(g,null,x(e.categories.values(),(s,m)=>(o(),a("ul",{key:s.name,class:"category-list"},[_(c,{i:m,"parent-key":s.name,category:s,level:e.level+1,collapsable:!l.value.includes(s.name)},null,8,["i","parent-key","category","level","collapsable"])]))),128))])}}});export{X as _};
