/**
 * 404 é¡µé¢å¸ƒå±€ç»„ä»¶
 * ç”¨äºæ˜¾ç¤º 404 é”™è¯¯é¡µé¢ï¼Œå¹¶æä¾›å¤šè¯­è¨€é£Ÿè°±å±•ç¤ºåŠŸèƒ½
 */
<script setup lang="ts">
import { useI18n } from 'vue-i18n'
import { ref } from 'vue'
import { useBack } from 'valaxy'

const { t } = useI18n()
const { back } = useBack()

// æ§åˆ¶æ˜¾ç¤ºå“ªä¸ªè¯­è¨€çš„é£Ÿè°±ï¼Œé»˜è®¤ä¸æ˜¾ç¤º
const visibleRecipeLang = ref<keyof typeof recipes | null>(null)

// ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºæˆ–éšè—å¯¹åº”è¯­è¨€çš„é£Ÿè°±
function toggleRecipe(lang: keyof typeof recipes) {
  if (visibleRecipeLang.value === lang) {
    // å¦‚æœå½“å‰æ˜¾ç¤ºçš„å°±æ˜¯è¿™ä¸ªè¯­è¨€ï¼Œåˆ™éšè—
    visibleRecipeLang.value = null
  } else {
    // å¦åˆ™æ˜¾ç¤ºè¿™ä¸ªè¯­è¨€
    visibleRecipeLang.value = lang
  }
}


// é£Ÿè°±å†…å®¹ï¼ŒæŒ‰è¯­è¨€åˆ†ç±»
const recipes = {
  'zh-CN': {
    title: 'ä¸ºäº†é˜²æ­¢ä½ ä¸€æ— æ‰€è·ï¼Œè¿™é‡Œæ•™ä½ æ€ä¹ˆåš<i>æˆ‘çˆ±åƒçš„</i>è¥¿çº¢æŸ¿ç‚’é¸¡è›‹ ğŸ³',
    steps: [
      { step: '1/9', text: 'ğŸ… å‡†å¤‡ä¸¤ä¸ªè¥¿çº¢æŸ¿ï¼Œé€‰æ‹©çº¢é€çš„ï¼Œç†Ÿé€çš„ï¼Œæ´—å¹²å‡€ï¼Œå†å‡†å¤‡ä¸¤ä¸ªé¸¡è›‹ ğŸ¥šã€‚' },
      { step: '2/9', text: 'ğŸ”ª æŠŠå‡†å¤‡å¥½çš„ä¸¤ä¸ªè¥¿çº¢æŸ¿åˆ‡æˆä¸ï¼Œï¼ˆå€’å…¥å¼€æ°´æµ¸æ³¡2åˆ†é’Ÿï¼Œè®©ç•ªèŒ„åœ¨çƒ­æ°´é‡Œç¿»æ»šä¸€ä¼š â™¨ï¸ï¼›è¿™æ ·å¯ä»¥è½»æ¾å»æ‰ç•ªèŒ„çš„å¤–çš®ï¼Œå»çš®åƒçš„æ—¶å€™å¾ˆæ–¹ä¾¿ï¼Œä¸å»çš®ä¸ä½†å¤–è§‚å¥½çœ‹ï¼Œè€Œä¸”ä¼šæ›´åŠ æœ‰è¥å…»ï¼‰' },
      { step: '3/9', text: 'ğŸ¥£ æŠŠé¸¡è›‹æ‰“åˆ°ç¢—é‡Œï¼ŒåŠ é€‚é‡çš„ç›ğŸ§‚æ‰“æ•£ï¼ˆå¯ä»¥å°‘é‡åŠ æ°´ï¼ŒåŠ æ°´åçš„é¸¡è›‹ä¼šå‘ç™½ï¼Œæ›´åŠ åƒæ²¹ï¼‰' },
      { step: '4/9', text: 'ğŸ”¥ çƒ­é”…å†·æ²¹ï¼ŒæŠŠæ²¹çƒ§çƒ­åï¼Œæ²¹æ¸©å°½é‡çš„é«˜ï¼Œæ”¹å°ç«ï¼Œç„¶åæŠŠé¸¡è›‹å€’è¿›æ²¹é”…ã€‚' },
      { step: '5/9', text: 'ğŸ³ æ…åŠ¨é”…é‡Œçš„è›‹æ¶²ï¼Œå°½é‡ç‚’åˆ°é‡‘é»„ï¼Œï¼ˆå°½é‡ä¸è¦å¤ªç¢ï¼Œç‚’åˆ°é‡‘é»„è‰²å£æ„Ÿä¼šæ›´å¥½ï¼Œä½†æ˜¯è¥å…»ç¡®æœ‰ç‚¹æµå¤±ï¼‰' },
      { step: '6/9', text: 'ğŸŒ¶ï¸ çƒ­é”…å†·æ²¹ï¼ŒæŠŠåˆ‡å¥½çš„è¥¿çº¢æŸ¿ç»†ä¸å€’è¿›æ²¹é”…ï¼Œä¸ºé˜²æ­¢æº…æ²¹å…ˆå°ç«ç‚’ï¼Œæœ‰æ±æµå‡ºæ—¶æ”¹ä¸ºå¤§ç«ç¿»ç‚’' },
      { step: '7/9', text: 'âœ¨ å½“ç‚’åˆ°è¥¿çº¢æŸ¿çš„å—çŠ¶å˜è½¯äº†çš„æ—¶å€™ï¼ŒåŠ ç›ğŸ§‚ï¼ŒåŠ é†‹ï¼Œä¹Ÿå¯ä»¥å°‘æ”¾ç‚¹ç™½ç³–ğŸ¬' },
      { step: '8/9', text: 'ğŸ”„ æŠŠç‚’å¥½é¸¡è›‹å€’è¿›é”…é‡Œé¢ï¼Œæ¥å›ç¿»ç‚’å‡ ä¸‹ï¼Œè®©é¸¡è›‹èƒ½å¤Ÿå……åˆ†çš„å¸æ”¶è¥¿çº¢æŸ¿çš„æ±æ¶²' },
      { step: '9/9', text: 'ğŸ§… é¸¡è›‹å¸æ”¶è¥¿çº¢æŸ¿æ±æ¶²é¥±å’Œæ—¶ï¼ŒåŠ å°‘é‡çš„è‘±èŠ±ï¼Œç„¶åå°±å¯ä»¥å‡ºé”…äº†ï¼ğŸ˜‹' },
    ]
  },
  'zh-TW': {
    title: 'ç‚ºäº†é˜²æ­¢ä½ ä¸€ç„¡æ‰€ç²ï¼Œé€™è£¡æ•™ä½ æ€éº¼åš<i>æˆ‘æ„›åƒçš„</i>ç•ªèŒ„ç‚’è›‹ ğŸ³',
    steps: [
      { step: '1/9', text: 'ğŸ… æº–å‚™å…©å€‹ç•ªèŒ„ï¼Œé¸æ“‡ç´…é€çš„ï¼Œç†Ÿé€çš„ï¼Œæ´—ä¹¾æ·¨ï¼Œå†æº–å‚™å…©å€‹é›è›‹ ğŸ¥šã€‚' },
      { step: '2/9', text: 'ğŸ”ª æŠŠæº–å‚™å¥½çš„å…©å€‹ç•ªèŒ„åˆ‡æˆä¸ï¼Œï¼ˆå€’å…¥é–‹æ°´æµ¸æ³¡2åˆ†é˜ï¼Œè®“ç•ªèŒ„åœ¨ç†±æ°´è£¡ç¿»æ»¾ä¸€æœƒ â™¨ï¸ï¼›é€™æ¨£å¯ä»¥è¼•é¬†å»æ‰ç•ªèŒ„çš„å¤–çš®ï¼Œå»çš®åƒçš„æ™‚å€™å¾ˆæ–¹ä¾¿ï¼Œä¸å»çš®ä¸ä½†å¤–è§€å¥½çœ‹ï¼Œè€Œä¸”æœƒæ›´åŠ æœ‰ç‡Ÿé¤Šï¼‰' },
      { step: '3/9', text: 'ğŸ¥£ æŠŠé›è›‹æ‰“åˆ°ç¢—è£¡ï¼ŒåŠ é©é‡çš„é¹½ğŸ§‚æ‰“æ•£ï¼ˆå¯ä»¥å°‘é‡åŠ æ°´ï¼ŒåŠ æ°´å¾Œçš„é›è›‹æœƒç™¼ç™½ï¼Œæ›´åŠ åƒæ²¹ï¼‰' },
      { step: '4/9', text: 'ğŸ”¥ ç†±é‹å†·æ²¹ï¼ŒæŠŠæ²¹ç‡’ç†±å¾Œï¼Œæ²¹æº«ç›¡é‡çš„é«˜ï¼Œæ”¹å°ç«ï¼Œç„¶å¾ŒæŠŠé›è›‹å€’é€²æ²¹é‹ã€‚' },
      { step: '5/9', text: 'ğŸ³ æ”ªå‹•é‹è£¡çš„è›‹æ¶²ï¼Œç›¡é‡ç‚’åˆ°é‡‘é»ƒï¼Œï¼ˆç›¡é‡ä¸è¦å¤ªç¢ï¼Œç‚’åˆ°é‡‘é»ƒè‰²å£æ„Ÿæœƒæ›´å¥½ï¼Œä½†æ˜¯ç‡Ÿé¤Šç¢ºæœ‰é»æµå¤±ï¼‰' },
      { step: '6/9', text: 'ğŸŒ¶ï¸ ç†±é‹å†·æ²¹ï¼ŒæŠŠåˆ‡å¥½çš„ç•ªèŒ„ç´°ä¸å€’é€²æ²¹é‹ï¼Œç‚ºé˜²æ­¢æ¿ºæ²¹å…ˆå°ç«ç‚’ï¼Œæœ‰æ±æµå‡ºæ™‚æ”¹ç‚ºå¤§ç«ç¿»ç‚’' },
      { step: '7/9', text: 'âœ¨ ç•¶ç‚’åˆ°ç•ªèŒ„çš„å¡Šç‹€è®Šè»Ÿäº†çš„æ™‚å€™ï¼ŒåŠ é¹½ğŸ§‚ï¼ŒåŠ é†‹ï¼Œä¹Ÿå¯ä»¥å°‘æ”¾é»ç™½ç³–ğŸ¬' },
      { step: '8/9', text: 'ğŸ”„ æŠŠç‚’å¥½é›è›‹å€’é€²é‹è£¡é¢ï¼Œä¾†å›ç¿»ç‚’å¹¾ä¸‹ï¼Œè®“é›è›‹èƒ½å¤ å……åˆ†çš„å¸æ”¶ç•ªèŒ„çš„æ±æ¶²' },
      { step: '9/9', text: 'ğŸ§… é›è›‹å¸æ”¶ç•ªèŒ„æ±æ¶²é£½å’Œæ™‚ï¼ŒåŠ å°‘é‡çš„è”¥èŠ±ï¼Œç„¶å¾Œå°±å¯ä»¥å‡ºé‹äº†ï¼ğŸ˜‹' },
    ]
  },
  'en': {
    title: 'To make sure you don\'t leave empty-handed, here\'s how to make the tomato scramble <i>I love</i> ğŸ³',
    steps: [
      { step: '1/9', text: 'ğŸ… Prepare two ripe tomatoes, wash them clean, and two eggs ğŸ¥š.' },
      { step: '2/9', text: 'ğŸ”ª Cut the tomatoes into small cubes. (Pour in boiling water and soak for 2 minutes to easily remove the skins â™¨ï¸. Removing the skin is convenient for eating, while keeping it is more nutritious and looks better.)' },
      { step: '3/9', text: 'ğŸ¥£ Beat the eggs in a bowl with a pinch of saltğŸ§‚. (Adding a small amount of water will make the scrambled eggs lighter and absorb more oil.)' },
      { step: '4/9', text: 'ğŸ”¥ Heat oil in a pan. Once the oil is hot (use high heat, then switch to low heat), pour in the beaten eggs.' },
      { step: '5/9', text: 'ğŸ³ Stir the egg liquid in the pan. Try to scramble until golden. (Try not to break it too finely. Scrambled until golden has better texture, but loses some nutrients.)' },
      { step: '6/9', text: 'ğŸŒ¶ï¸ Heat oil in a pan, add the diced tomatoes. Stir-fry on low heat first to prevent splashing, then switch to high heat once juice comes out.' },
      { step: '7/9', text: 'âœ¨ When the tomato pieces soften, add saltğŸ§‚, vinegar, and a little sugarğŸ¬.' },
      { step: '8/9', text: 'ğŸ”„ Pour the scrambled eggs into the pan and stir-fry a few times so the eggs absorb the tomato juice.' },
      { step: '9/9', text: 'ğŸ§… When the eggs have absorbed enough tomato juice, add a little chopped green onion, and it\'s ready to serve! ğŸ˜‹' },
    ]
  },
  'ja': {
    title: 'æ‰‹ã¶ã‚‰ã§å¸°ã•ãªã„ãŸã‚ã«ã€<i>ç§ã®å¥½ããª</i>åµç‚’ã‚ãƒˆãƒãƒˆã®ä½œã‚Šæ–¹ã‚’æ•™ãˆã¾ã™ ğŸ³',
    steps: [
      { step: '1/9', text: 'ğŸ… å®Œç†Ÿã—ãŸãƒˆãƒãƒˆã‚’2ã¤ç”¨æ„ã—ã€ãã‚Œã„ã«æ´—ã£ã¦ã‹ã‚‰ã€åµã‚’2ã¤æº–å‚™ã—ã¾ã™ ğŸ¥šã€‚' },
      { step: '2/9', text: 'ğŸ”ª ç”¨æ„ã—ãŸãƒˆãƒãƒˆã‚’å°ã•ãåˆ‡ã‚Šã¾ã™ã€‚ï¼ˆãŠæ¹¯ã«2åˆ†é–“æµ¸ã™ã¨ã€ãƒˆãƒãƒˆã®çš®ãŒç°¡å˜ã«å‰¥ã‘ã¾ã™ â™¨ï¸ã€‚çš®ã‚’å‰¥ãã¨é£Ÿã¹ã‚„ã™ã„ã§ã™ãŒã€å‰¥ã‹ãªã„æ–¹ãŒè¦‹ãŸç›®ã‚‚è‰¯ãã€æ „é¤Šä¾¡ã‚‚é«˜ããªã‚Šã¾ã™ã€‚ï¼‰' },
      { step: '3/9', text: 'ğŸ¥£ ãƒœã‚¦ãƒ«ã«åµã‚’å‰²ã‚Šå…¥ã‚Œã€é©é‡ã®å¡©ğŸ§‚ã‚’åŠ ãˆã¦æ··ãœã¾ã™ï¼ˆå°‘é‡ã®æ°´ã‚’åŠ ãˆã‚‹ã¨ã€åµãŒç™½ã£ã½ããªã‚Šã€æ²¹ã‚’ã‚ˆã‚Šå¸ã„ã¾ã™ï¼‰ã€‚' },
      { step: '4/9', text: 'ğŸ”¥ ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã‚’ç†±ã—ã€å†·ãŸã„æ²¹ã‚’å…¥ã‚Œã¾ã™ã€‚æ²¹ãŒç†±ããªã£ãŸã‚‰ï¼ˆå¼·ç«ã§ã€ãã®å¾Œå¼±ç«ã«ï¼‰ã€åµæ¶²ã‚’æµã—å…¥ã‚Œã¾ã™ã€‚' },
      { step: '5/9', text: 'ğŸ³ ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã®ä¸­ã§åµæ¶²ã‚’ã‹ãæ··ãœã€ãã¤ã­è‰²ã«ãªã‚‹ã¾ã§ç‚’ã‚ã¾ã™ï¼ˆç´°ã‹ãã—ã™ããªã„ã‚ˆã†ã«ã€‚ãã¤ã­è‰²ã«ç‚’ã‚ã‚‹ã¨é£Ÿæ„Ÿã¯è‰¯ããªã‚Šã¾ã™ãŒã€æ „é¤Šã¯å°‘ã—å¤±ã‚ã‚Œã¾ã™ï¼‰ã€‚' },
      { step: '6/9', text: 'ğŸŒ¶ï¸ ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã‚’ç†±ã—ã€å†·ãŸã„æ²¹ã‚’å…¥ã‚Œã€åˆ‡ã£ãŸãƒˆãƒãƒˆã‚’ç‚’ã‚ã¾ã™ã€‚æ²¹ã¯ã­ã‚’é˜²ããŸã‚ã«å¼±ç«ã§ç‚’ã‚ã€æ±ãŒå‡ºã¦ããŸã‚‰å¼·ç«ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚' },
      { step: '7/9', text: 'âœ¨ ãƒˆãƒãƒˆãŒæŸ”ã‚‰ã‹ããªã£ãŸã‚‰ï¼Œå¡©ğŸ§‚ï¼Œé…¢ï¼Œãã—ã¦ç ‚ç³–ğŸ¬ã‚’å°‘ã—åŠ ãˆã¾ã™ã€‚' },
      { step: '8/9', text: 'ğŸ”„ ç‚’ã‚ãŸåµã‚’é‹ã«æˆ»ã—ï¼Œæ•°å›ã‹ãæ··ãœã¦ï¼ŒåµãŒãƒˆãƒãƒˆã®æ±ã‚’ååˆ†ã«å¸ã†ã‚ˆã†ã«ã—ã¾ã™ã€‚' },
      { step: '9/9', text: 'ğŸ§… åµãŒãƒˆãƒãƒˆã®æ±ã‚’ååˆ†ã«å¸ã£ãŸã‚‰ã€ãƒã‚®ã‚’å°‘ã—åŠ ãˆã¦å®Œæˆã§ã™ï¼ğŸ˜‹' },
    ]
  },
}

</script>

<template>
  <main class="va-main w-full h-screen" text="center" flex="~ col" justify="center" items="center">
    <div class="not-found" title="404" font="mono">
      404
    </div>

    <div style="margin-top: 2rem; max-width: 600px; text-align: left; margin: 0 auto;">
      <!-- æ ‡é¢˜æ ¹æ®é€‰æ‹©çš„è¯­è¨€æ˜¾ç¤º -->
      <h2 v-if="visibleRecipeLang && recipes[visibleRecipeLang]" style="text-align: center; margin-bottom: 1rem;" v-html="recipes[visibleRecipeLang]?.title"></h2>
      
      <section 
        v-if="visibleRecipeLang && recipes[visibleRecipeLang]"
      >
        <p v-for="item in recipes[visibleRecipeLang].steps" :key="item.step" style="margin-bottom: 0.5rem;" v-html="`<b>${item.step}</b> ${item.text}`"></p>
      </section>

      <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’®æ”¾åœ¨é£Ÿè°±å†…å®¹ä¸‹æ–¹ -->
      <div style="display: flex; justify-content: center; gap: 10px; margin-top: 1.5rem;">
        <button class="btn rounded" @click="toggleRecipe('zh-CN')">ç®€ä½“ä¸­æ–‡</button>
        <button class="btn rounded" @click="toggleRecipe('zh-TW')">ç¹é«”ä¸­æ–‡</button>
        <button class="btn rounded" @click="toggleRecipe('ja')">æ—¥æœ¬è¯­</button>
        <button class="btn rounded" @click="toggleRecipe('en')">English</button>
      </div>
    </div>

    <div>
      <button class="btn rounded-full" p="x-6 y-2" text="sm" m="3 t8" :title="t('button.back')" @click="back">
        {{ t('button.back') }}
      </button>
    </div>
  </main>
</template>

<style lang="scss" scoped>
.not-found {
  font-size: 10rem;
  text-shadow: 0 5px 10px rgb(0 0 0 / .25), 0 20px 20px rgb(0 0 0 / .15);
}

/* ç®€åŒ–æŒ‰é’®æ ·å¼ */
.btn.rounded {
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  background: var(--va-c-bg-soft, #f5f5f5);
  color: var(--va-c-text, #333);
  border: none;
  cursor: pointer;
  transition: background 0.2s;
}

.btn.rounded:hover {
  background: var(--va-c-primary, #409eff);
  color: #fff;
}
</style> 